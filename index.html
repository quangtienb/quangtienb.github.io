<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Thông Tin Thời Tiết</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #f4f4f4;
            color: #333;
        }
        #thoi-tiet {
            margin-top: 20px;
            font-size: 24px;
        }
        #loading {
            font-size: 18px;
            color: grey;
        }
    </style>
</head>
<body>
    <h1>Thông Tin Thời Tiết</h1>
    <p id="loading">Đang tải dữ liệu...</p>
    <div id="thoi-tiet">
        <!-- Dữ liệu thời tiết sẽ hiển thị tại đây -->
    </div>

    <script>
        const apiUrl = "https://3853-2401-d800-9ac2-fbd4-5cb5-3246-bb29-4a84.ngrok-free.app/get-dht-data";

async function getThoiTiet() {
    try {
        const response = await fetch(apiUrl);
        if (!response.ok) {
            throw new Error('Không thể lấy dữ liệu từ API');
        }
        const contentType = response.headers.get("content-type");
        if (!contentType || !contentType.includes("application/json")) {
            throw new Error('API trả về không phải JSON');
        }
        const data = await response.json();
        document.getElementById("loading").style.display = "none";
        document.getElementById("thoi-tiet").innerHTML = `
            <p>Nhiệt độ: ${data.temperature}°C</p>
            <p>Độ ẩm: ${data.humidity}%</p>
        `;
    } catch (error) {
        document.getElementById("loading").textContent = "Lỗi kết nối API: " + error.message;
    }
}


        getThoiTiet();
    </script>
</body>
</html>
