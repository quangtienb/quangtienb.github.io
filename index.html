<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Weather Display & LED Control</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #f0f8ff;
            text-align: center;
            margin: 0;
            padding: 0;
        }
        #weather {
            margin-top: 20px;
        }
        #ledControl {
            margin-top: 40px;
        }
        .led-preview {
            width: 100px;
            height: 100px;
            margin: 10px auto;
            border: 1px solid #000;
        }
        input[type="range"] {
            width: 80%;
            margin: 10px 0;
        }
    </style>
</head>
<body>
    <div id="weather">
        <h1>Weather Information</h1>
        <div id="weatherData">
            <p>Loading weather data...</p>
        </div>
    </div>

    <div id="ledControl">
        <h2>LED Control Panel</h2>
        <div>
            <label for="scrollSpeed">Scroll Speed:</label>
            <input type="range" id="scrollSpeed" min="1" max="10" value="5">
        </div>
        <div>
            <label for="bgColor">Background Color:</label>
            <input type="color" id="bgColor" value="#ff0000">
        </div>
        <div class="led-preview" id="ledPreview"></div>
    </div>

    <script>
        // Weather Data Fetching
        async function fetchWeather() {
            try {
                const response = await fetch('https://api.open-meteo.com/v1/forecast?latitude=10.8231&longitude=106.6297&current_weather=true');
                const data = await response.json();
                const weatherDiv = document.getElementById('weatherData');
                weatherDiv.innerHTML = `
                    <p><strong>Temperature:</strong> ${data.current_weather.temperature}&#8451;</p>
                    <p><strong>Wind Speed:</strong> ${data.current_weather.windspeed} m/s</p>
                    <p><strong>Conditions:</strong> ${data.current_weather.weathercode}</p>
                `;
            } catch (error) {
                console.error('Error fetching weather data:', error);
                document.getElementById('weatherData').textContent = 'Failed to load weather data.';
            }
        }

        fetchWeather();

        // LED Control Panel
        const scrollSpeed = document.getElementById('scrollSpeed');
        const bgColor = document.getElementById('bgColor');
        const ledPreview = document.getElementById('ledPreview');

        scrollSpeed.addEventListener('input', () => {
            console.log(`Scroll Speed: ${scrollSpeed.value}`);
        });

        bgColor.addEventListener('input', () => {
            ledPreview.style.backgroundColor = bgColor.value;
            console.log(`Background Color: ${bgColor.value}`);
        });

        // Initial Preview Update
        ledPreview.style.backgroundColor = bgColor.value;
    </script>
</body>
</html>
