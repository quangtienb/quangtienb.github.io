<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DHT11 Data</title>
</head>
<body>
    <h1>DHT11 Data</h1>
    <div>
        <p id="temperature-dht">Nhiệt độ: Lỗi</p>
        <p id="humidity-dht">Độ ẩm: Lỗi</p>
    </div>

    <script>
        async function fetchDHTData() {
  try {
    // URL của API ESP32 để lấy dữ liệu DHT11 (thay bằng IP thực tế của bạn)
    const response = await fetch('http://192.168.4.229:3000/get-dht-data');
    if (!response.ok) throw new Error('Không thể lấy dữ liệu từ cảm biến DHT11.');

    const data = await response.json();
    if (data) {
      document.getElementById('temperature-dht').textContent = `${data.temperature} °C`;
      document.getElementById('humidity-dht').textContent = `${data.humidity} %`;
    }
  } catch (error) {
    console.error('Lỗi khi lấy dữ liệu từ cảm biến DHT11:', error.message);
    document.getElementById('temperature-dht').textContent = 'Lỗi';
    document.getElementById('humidity-dht').textContent = 'Lỗi';
  }
}

// Gọi hàm fetchDHTData khi tải trang
window.onload = fetchDHTData;

    </script>
</body>
</html>
